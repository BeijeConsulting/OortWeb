<!DOCTYPE html>
<html>
	<head>
		<link href="prova.css" rel="stylesheet"/>
	</head>
	<body>
		<div class="calculator">
			<h3>CALCULATOR</h3>
			<div id="display"></div>
			<br>
			<table>
			<tr>
				<td id="t1" onclick="num('1')">1</td>
				<td id="t2" onclick="num('2')">2</td>
				<td id="t3" onclick="num('3')">3</td>
				<td id="tplus" onclick="num('+')">+</td>
			</tr>
			<tr>
				<td id="t4" onclick="num('4')">4</td>
				<td id="t5" onclick="num('5')">5</td>
				<td id="t6" onclick="num('6')">6</td>
				<td id="tminus" onclick="num('-')">-</td>
			</tr>
			<tr>
				<td id="t7" onclick="num('7')">7</td>
				<td id="t8" onclick="num('8')">8</td>
				<td id="t9" onclick="num('9')">9</td>
				<td id="tmult" onclick="num('*')">*</td>
			</tr>
			<tr>
				<td id="tAC" onclick="reset()">AC</td>
				<td id="t0" onclick="num(0)">0</td>
				<td id="tComma" onclick="num('.')">,</td>
				<td id="tdivide" onclick="num('/')">/</td>
			</tr>
			</table>
			<div id="submit" onclick="parse()"> = </div>
		</div>

		<script>
		var o="";
		function reset() {
			document.getElementById("display").innerHTML = "";
			o="";
		}
		function num(valore) {
			o+=valore;
			document.getElementById("display").innerHTML = o;
		}
		function operation(op, o, o1) {
			//console.log('Entro in operation. operaione(op)=', op, ' Operando 1:', parseInt(o1), ' Operando 2:', o);
			if(op=="+") return parseFloat(o1)+parseFloat(o);
			if(op=="-") return parseFloat(o1)-parseFloat(o);
			if(op=="*") return parseFloat(o1)*parseFloat(o);
			if(op=="/") return parseFloat(o1)/parseFloat(o);
		}
		function parse() {
			//console.log('Entro in parse(). var o = ', o)
			let o1="";
			for (let index = 0; index < o.length; index++) {
				//console.log('Entro nel for. Index = ', index ,"ChatAt(index): ", o.charAt(index));
				if (o.charAt(index)==="+" || o.charAt(index)==="-" || o.charAt(index)==="*" || o.charAt(index)==="/") {
						let op = o.charAt(index);
						document.getElementById("display").innerHTML = operation(op, o.substr(index+1), o1);
						break;
					}
					else {
						o1 += o.charAt(index)
					}
			}
			o="";
		}
	</script>
	</body>
</html>